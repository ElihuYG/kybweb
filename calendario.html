<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Calendario de Estrenos KYB</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  body {
    background-color: #121212;
    color: #eeeeee;
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 {
    color: #1abc9c;
    margin-bottom: 10px;
    font-weight: 700;
  }

  /* Leyenda arriba */
  .legend {
    display: flex;
    gap: 25px;
    margin-bottom: 20px;
    align-items: center;
    font-weight: 600;
    font-size: 1rem;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .legend-color {
    width: 20px;
    height: 20px;
    border-radius: 50%;
  }
  .legend-color.estreno {
    background-color: #1abc9c; /* verde esmeralda */
  }
  .legend-icon {
    width: 22px;
    height: 22px;
    filter: invert(80%) sepia(70%) saturate(800%) hue-rotate(140deg) brightness(1) contrast(1);
  }

  /* Calendario */
  .calendar {
    background: #1b1b1b;
    border-radius: 15px;
    box-shadow: 0 0 20px #1abc9c;
    width: 370px;
    padding: 20px;
  }

  .calendar header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .month-year {
    font-weight: 600;
    font-size: 1.5rem;
    color: #1abc9c;
  }

  button {
    background: transparent;
    border: none;
    color: #1abc9c;
    font-size: 1.8rem;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  button:hover {
    color: #2ecc71;
  }

  .weekdays, .days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
  }

  .weekdays div {
    font-weight: 600;
    text-align: center;
    color: #2ecc71;
    font-size: 0.9rem;
  }

  .days div {
    background: #121212;
    padding: 14px 0;
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
    user-select: none;
    position: relative;
    transition: background-color 0.3s ease;
  }
  .days div:hover {
    background-color: #2ecc71;
    color: #121212;
  }
  .days .today {
    background-color: #1abc9c;
    color: #121212;
    font-weight: 700;
    box-shadow: 0 0 10px #1abc9c;
  }

  /* Puntito verde para día con estreno */
  .days .has-release::after {
    content: '';
    position: absolute;
    bottom: 6px;
    right: 8px;
    width: 10px;
    height: 10px;
    background-color: #1abc9c;
    border-radius: 50%;
    box-shadow: 0 0 6px #1abc9c;
  }

  /* Modal fondo */
  .modal-bg {
    display: none;
    position: fixed;
    inset: 0;
    background-color: rgba(18,18,18,0.95);
    backdrop-filter: blur(6px);
    justify-content: center;
    align-items: center;
    z-index: 999;
  }

  /* Modal contenedor */
  .modal {
    background: #222;
    border-radius: 15px;
    max-width: 400px;
    width: 90%;
    padding: 20px;
    box-shadow: 0 0 30px #1abc9c;
    color: #eee;
    max-height: 80vh;
    overflow-y: auto;
  }

  .modal h2 {
    margin-top: 0;
    color: #1abc9c;
    font-weight: 700;
    margin-bottom: 15px;
    text-align: center;
  }

  /* Lista de estrenos en modal */
  .release-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .release-list li {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
    border-bottom: 1px solid #333;
    padding-bottom: 10px;
  }
  .release-list img {
    width: 60px;
    height: 85px;
    border-radius: 10px;
    object-fit: cover;
    box-shadow: 0 0 10px #1abc9c;
  }
  .release-info {
    flex-grow: 1;
  }
  .release-title {
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: 5px;
    color: #2ecc71;
  }
  .release-type {
    font-size: 0.9rem;
    color: #aaa;
  }
  .release-episode {
    font-size: 0.85rem;
    color: #ccc;
    margin-top: 3px;
  }

  /* Botón cerrar */
  .close-btn {
    background: #1abc9c;
    color: #121212;
    border: none;
    padding: 8px 16px;
    font-weight: 700;
    border-radius: 10px;
    cursor: pointer;
    display: block;
    margin: 0 auto;
    margin-top: 15px;
    transition: background-color 0.3s ease;
  }
  .close-btn:hover {
    background-color: #2ecc71;
  }

  /* Responsive */
  @media (max-width: 420px) {
    .calendar {
      width: 100%;
      padding: 10px;
    }
    .release-list img {
      width: 45px;
      height: 65px;
    }
  }
</style>
</head>
<body>

<h1>Calendario de Estrenos KYB</h1>

<!-- Leyenda -->
<div class="legend">
  <div class="legend-item">
    <div class="legend-color estreno"></div> <span>Día con estreno</span>
  </div>
  <div class="legend-item">
    <!-- Ícono Serie -->
    <img class="legend-icon" src="https://cdn-icons-png.flaticon.com/512/833/833314.png" alt="Serie Icon" />
    <span>Serie</span>
  </div>
  <div class="legend-item">
    <!-- Ícono Película -->
    <img class="legend-icon" src="https://cdn-icons-png.flaticon.com/512/3176/3176367.png" alt="Película Icon" />
    <span>Película</span>
  </div>
</div>

<div class="calendar">
  <header>
    <button id="prev">&#8249;</button>
    <div class="month-year" id="monthYear">Junio 2025</div>
    <button id="next">&#8250;</button>
  </header>
  <div class="weekdays">
    <div>Lun</div>
    <div>Mar</div>
    <div>Mié</div>
    <div>Jue</div>
    <div>Vie</div>
    <div>Sáb</div>
    <div>Dom</div>
  </div>
  <div class="days" id="days"></div>
</div>

<!-- Modal -->
<div class="modal-bg" id="modalBg">
  <div class="modal" id="modal">
    <h2 id="modalDateTitle">Estrenos</h2>
    <ul class="release-list" id="releaseList"></ul>
    <button class="close-btn" id="closeBtn">Cerrar</button>
  </div>
</div>

<script>
  const monthYear = document.getElementById('monthYear');
  const daysContainer = document.getElementById('days');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');

  const modalBg = document.getElementById('modalBg');
  const modalDateTitle = document.getElementById('modalDateTitle');
  const releaseList = document.getElementById('releaseList');
  const closeBtn = document.getElementById('closeBtn');

  const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio',
    'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];

  // Datos ficticios de estrenos 2025
  const estrenos = [
    {
      fecha: '2025-06-22',
      titulo: 'Begins Youth',
      tipo: 'Serie',
      episodio: 'Capítulo 1',
      imagen: 'https://i.imgur.com/3X0RVvQ.jpg'
    },
    {
      fecha: '2025-06-22',
      titulo: 'Begins Youth',
      tipo: 'Serie',
      episodio: 'Capítulo 2',
      imagen: 'https://i.imgur.com/3X0RVvQ.jpg'
    },
    {
      fecha: '2025-06-25',
      titulo: 'Thamepo',
      tipo: 'Película',
      episodio: '',
      imagen: 'https://i.imgur.com/1T9XF02.jpg'
    },
    {
      fecha: '2025-07-03',
      titulo: 'Yoursky',
      tipo: 'Serie',
      episodio: 'Capítulo 5',
      imagen: 'https://i.imgur.com/h0lz8P6.jpg'
    },
    {
      fecha: '2025-07-10',
      titulo: 'Thamepo',
      tipo: 'Serie',
      episodio: 'Capítulo 3',
      imagen: 'https://i.imgur.com/1T9XF02.jpg'
    },
    {
      fecha: '2025-07-15',
      titulo: 'New Dawn',
      tipo: 'Película',
      episodio: '',
      imagen: 'https://i.imgur.com/4R6YIdh.jpg'
    },
    {
      fecha: '2025-07-15',
      titulo: 'Begins Youth',
      tipo: 'Serie',
      episodio: 'Capítulo 10',
      imagen: 'https://i.imgur.com/3X0RVvQ.jpg'
    }
  ];

  let currentDate = new Date();

  function renderCalendar(date) {
    daysContainer.innerHTML = '';
    const year = date.getFullYear();
    const month = date.getMonth();

    monthYear.textContent = `${months[month]} ${year}`;

    // Primer día del mes (0 dom, 1 lun, etc.)
    const firstDay = new Date(year, month, 1);
    let startDay = firstDay.getDay(); // domingo=0
    // Queremos lunes=0
    startDay = startDay === 0 ? 6 : startDay - 1;

    // Número de días en el mes
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    // Filtrar estrenos para el mes actual
    const estrenosDelMes = estrenos.filter(e => {
      const eDate = new Date(e.fecha);
      return eDate.getFullYear() === year && eDate.getMonth() === month;
    });

    // Map para saber qué días tienen estreno
    const diasConEstreno = {};
    estrenosDelMes.forEach(e => {
      const day = new Date(e.fecha).getDate();
      if (!diasConEstreno[day]) diasConEstreno[day] = [];
      diasConEstreno[day].push(e);
    });

    // Agregar espacios vacíos antes del primer día
    for (let i = 0; i < startDay; i++) {
      const emptyDiv = document.createElement('div');
      daysContainer.appendChild(emptyDiv);
    }

    // Crear los días
    for (let day = 1; day <= daysInMonth; day++) {
      const dayDiv = document.createElement('div');
      dayDiv.textContent = day;

      // Marcar hoy si corresponde
      const today = new Date();
      if (day === today.getDate() &&
          month === today.getMonth() &&
          year === today.getFullYear()) {
        dayDiv.classList.add('today');
      }

      // Si tiene estreno, marcar con puntito y evento click
      if (diasConEstreno[day]) {
        dayDiv.classList.add('has-release');
        dayDiv.addEventListener('click', () => {
          abrirModal(day, diasConEstreno[day]);
        });
      }

      daysContainer.appendChild(dayDiv);
    }
  }

  function abrirModal(day, estrenosDelDia) {
    modalDateTitle.textContent = `Estrenos del ${day} de ${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
    releaseList.innerHTML = '';
    estrenosDelDia.forEach(e => {
      const li = document.createElement('li');

      const img = document.createElement('img');
      img.src = e.imagen;
      img.alt = e.titulo;

      const info = document.createElement('div');
      info.classList.add('release-info');

      const title = document.createElement('div');
      title.classList.add('release-title');
      title.textContent = e.titulo;

      const type = document.createElement('div');
      type.classList.add('release-type');
      type.textContent = e.tipo;

      const episode = document.createElement('div');
      episode.classList.add('release-episode');
      episode.textContent = e.episodio;

      info.appendChild(title);
      info.appendChild(type);
      if(e.episodio) info.appendChild(episode);

      li.appendChild(img);
      li.appendChild(info);

      releaseList.appendChild(li);
    });

    modalBg.style.display = 'flex';
  }

  closeBtn.addEventListener('click', () => {
    modalBg.style.display = 'none';
  });

  // Cerrar modal si clic afuera
  modalBg.addEventListener('click', (e) => {
    if (e.target === modalBg) {
      modalBg.style.display = 'none';
    }
  });

  prevBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar(currentDate);
  });

  nextBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar(currentDate);
  });

  renderCalendar(currentDate);
</script>

</body>
</html>
